---
title: 从发票信息中获取位置信息
url: Get_location_from_invoice_information
date: 2017-11-05 13:28:28
tags:
  - 发票
categories:
  - 金融
---

# 前言
前段时间要做[毕业设计](https://github.com/Ahaochan/invoice), 需要了解发票的相关知识。
需要做地理位置分析, 画个地图。
其中,
1. `统一社会信用代码`可以获取购销单位的`行政区划代码`。
1. `发票代码`可以获取发票所属地的`行政区划代码`。

<!-- more -->

# 计算方法
查阅资料都写的很清楚, 这里再说简单点。
获取行政区划代码可以参考我写的一个[油猴脚本](https://greasyfork.org/zh-CN/scripts/31888)。

**统一社会信用代码**
在【**金融-统一社会信用代码的校验码验证**】一文中有提到, 统一社会信用代码是纳税人的唯一标识。
而18位的统一社会信用代码中, 第3-8位就是行政区划代码。
比如`91350100M000100Y43`的行政区划代码为`350100`, 为福建省福州市。

**发票代码**
注意, `发票代码`和`发票号码`是两回事。

增值税发票共10位, 第1-4位为市级行政区划代码, 后两位补0即可。
比如`3100164320`的行政区划代码为`3100`, 补零为`310000`, 为上海市。

普通发票共12位, 第2-5位为市级行政区划代码, 后两位补0即可。
比如`144031601133`的行政区划代码为`4403`, 补零为`440300`, 为广东省深圳市。

